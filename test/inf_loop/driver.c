/** IncludeLibs
 * This section is used to include the required libraries for proper functioning of the master and student solutions.
 * Some libraries might be appended here during execution from student solution, if not included here initially.
 */
// @IncludeLibs_Start
#include <assert.h>
#include <stdlib.h>
// @IncludeLibs_End

/** DeclareFunctionProtypes
 * This section is used to declare the function prototypes for the master and student solution methods.
 * Keep note of the return type and param types.
 */
// @DeclareFunctionProtypes_Start
int solve_master(int);
int solve_student(int);
// @DeclareFunctionProtypes_End

// Include the AutoVal method prototypes [IMPORTANT]
void klee_make_symbolic(void *addr, size_t nbytes, const char *name);
// void atvl_set_value();

int main() {
    /** DeclareParams
     * This section is used to declare the variables for the function parameters.
     * Here, we declare the parameters to be passed as inputs to the master and student solutions.
     */
    // @DeclareParams_Start
    int a;
    // @DeclareParams_End

    /** SetSymbols
     * This section is used to set variables as symbols by calling the atvl_mksym() method.
     * This is an important section, since, this will be manipulated later on to run the testcases.
     * Here testcases are the counter-examples that are generated by KLEE during assertion check.
     */
    // @SetSymbols_Start
    klee_make_symbolic(&a, sizeof(a), "a");
    // @SetSymbols_End

    /** CheckPreConditions
     * This section is used to assert the Pre-conditions for the input space.
     */
    // @CheckPreConditions_Start
    if (a < 0) exit(EXIT_FAILURE);
    if (a > 100) exit(EXIT_FAILURE);
    // @CheckPreConditions_End

    /** CallMethods
     * This section is used to execute the master (i.e., the reference solution) and the student submitted solutions.
     * The return values, i.e, the outputs of the functions are acquired to later on assert the semantic equivalence.
     * The same set of parameters are passed on to both the master and the student solutions/ methods.
     */
    // @CallMethods_Start
    int return_value_1 = solve_master(a);
    int return_value_2 = solve_student(a);
    // @CallMethods_End

    /** CheckAssertions
     * This section is used to assert the simmilarities of the outputs of the master and student methods.
     */
    // @CheckAssertions_Start
    assert(return_value_1 == return_value_2);
    // @CheckAssertions_End

    return 0;
}
